(this["webpackJsonpgenetic-algorithm"]=this["webpackJsonpgenetic-algorithm"]||[]).push([[0],{259:function(t,e,n){},393:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),s=n(43),r=n.n(s),o=n(226),l=n(462),c=n(46),u=n(56),d=n.n(u),h=n(130),p=n(17),m=n(5),b=n(48),j=n(49),v=n(65),f=n(67),g=n(23),x=n(461),O=n(457),S=n(452),C=n(455),y=n(458),k=n(449),I=n(466),N=n(464),w=n(467),E=n(459),G=n(453),P=0,z=1,F=n(1),M=function(t){Object(v.a)(n,t);var e=Object(f.a)(n);function n(){var t;Object(b.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).valueText=function(t){return"".concat(t,"%")},t.valueMs=function(t){return"".concat(t," ms")},t.getSimulationDisabled=function(){if(!t.props.grid.length||t.props.animationRunning)return!0;for(var e=0;e<t.props.gridSize;e++)for(var n=0;n<t.props.gridSize;n++){var a,i;if(1===(null===(a=t.props.grid)||void 0===a||null===(i=a[e])||void 0===i?void 0:i[n]))return!1}return!0},t.getEndDrawDisabled=function(){if(t.props.animationRunning)return!0;for(var e=0;e<t.props.gridSize;e++)for(var n=0;n<t.props.gridSize;n++){var a,i,s,r,o,l,c;if((null===(a=t.props.successfulIndividual)||void 0===a||null===(i=a.results)||void 0===i||null===(s=i.stats)||void 0===s||null===(r=s.grid)||void 0===r||null===(o=r[e])||void 0===o?void 0:o[n])!==(null===(l=t.props.actualGrid)||void 0===l||null===(c=l[e])||void 0===c?void 0:c[n]))return!1}return!0},t}return Object(j.a)(n,[{key:"render",value:function(){var t=this;return Object(F.jsxs)("div",{className:"settings",children:[Object(F.jsx)("h2",{className:"m-2",children:"\xdavodn\xe9 nastavenie"}),Object(F.jsxs)(C.a,{variant:"filled",sx:{m:1,minWidth:200},children:[Object(F.jsx)(O.a,{id:"gridLabel",children:"Ve\u013ekos\u0165 mrie\u017eky"}),Object(F.jsxs)(k.a,{labelId:"gridLabel",disabled:!this.props.settingsEnabled,id:"gridSize",name:"gridSize",value:this.props.gridSize,label:"Ve\u013ekos\u0165 mrie\u017eky",onChange:this.props.handleChangeGrid,children:[Object(F.jsx)(S.a,{value:5,children:"5x5"}),Object(F.jsx)(S.a,{value:6,children:"6x6"}),Object(F.jsx)(S.a,{value:7,children:"7x7"}),Object(F.jsx)(S.a,{value:8,children:"8x8"})]})]}),Object(F.jsxs)(C.a,{variant:"filled",sx:{m:1,minWidth:200},children:[Object(F.jsx)(O.a,{id:"countLabel",children:"Po\u010det pokladov"}),Object(F.jsx)(k.a,{labelId:"countLabel",disabled:!this.props.settingsEnabled,id:"count",name:"count",value:this.props.count,label:"Po\u010det pokladov",onChange:this.props.handleChangeGrid,children:Object(g.a)(Array(10)).map((function(t,e){return Object(F.jsx)(S.a,{value:e+1,children:e+1},e)}))})]}),Object(F.jsx)("br",{}),Object(F.jsxs)(C.a,{variant:"filled",sx:{m:1,minWidth:200},children:[Object(F.jsx)(O.a,{id:"xLabel",children:"Za\u010diato\u010dn\xe1 poz\xedcia x"}),Object(F.jsx)(k.a,{labelId:"xLabel",id:"x",disabled:!this.props.settingsEnabled,name:"x",value:this.props.x,label:"Za\u010diato\u010dn\xe1 poz\xedcia x",onChange:this.props.handleChangeGrid,children:Object(g.a)(Array(this.props.gridSize)).map((function(t,e){return Object(F.jsx)(S.a,{value:e,children:e},e)}))})]}),Object(F.jsxs)(C.a,{variant:"filled",sx:{m:1,minWidth:200},children:[Object(F.jsx)(O.a,{id:"yLabel",children:"Za\u010diato\u010dn\xe1 poz\xedcia y"}),Object(F.jsx)(k.a,{labelId:"yLabel",id:"y",disabled:!this.props.settingsEnabled,name:"y",value:this.props.y,label:"Za\u010diato\u010dn\xe1 poz\xedcia y",onChange:this.props.handleChangeGrid,children:Object(g.a)(Array(this.props.gridSize)).map((function(t,e){return Object(F.jsx)(S.a,{value:e,children:e},e)}))})]}),Object(F.jsx)("br",{}),Object(F.jsx)(C.a,{variant:"filled",sx:{m:1,minWidth:200},children:Object(F.jsx)(y.a,{onChange:this.props.handleChange,name:"populationCount",disabled:!this.props.settingsEnabled,id:"populationCount",label:"Po\u010det jedincov v popul\xe1cii",value:this.props.populationCount,onBlur:this.props.setPopulation,variant:"filled"})}),Object(F.jsx)(C.a,{variant:"filled",sx:{m:1,minWidth:200},children:Object(F.jsx)(y.a,{onChange:this.props.handleChange,id:"generationCount",disabled:!this.props.settingsEnabled,name:"generationCount",label:"Po\u010det gener\xe1cii",value:this.props.generationCount,onBlur:this.props.setGenerations,variant:"filled"})}),Object(F.jsx)("br",{}),Object(F.jsxs)(C.a,{variant:"filled",sx:{m:1,minWidth:200},children:[Object(F.jsx)(O.a,{id:"parentSelectionLabel",children:"Sp\xf4sob v\xfdberu jedincov"}),Object(F.jsxs)(k.a,{labelId:"parentSelectionLabel",id:"parentSelection",disabled:!this.props.settingsEnabled,name:"parentSelection",value:this.props.parentSelection,label:"Sp\xf4sob v\xfdberu jedincov",onChange:this.props.handleChange,children:[Object(F.jsx)(S.a,{value:P,children:"Ruleta"}),Object(F.jsx)(S.a,{value:z,children:"Turnaj"})]})]}),this.props.parentSelection===z&&Object(F.jsxs)(N.a,{className:"box",sx:{width:200},children:[Object(F.jsx)(I.a,{children:"Po\u010det jedincov do turnaja"}),Object(F.jsx)(G.a,{"aria-label":"Po\u010det jedincov do turnaja",name:"tournamentCount",onChange:this.props.handleSlider,disabled:!this.props.settingsEnabled,value:this.props.tournamentCount,valueLabelDisplay:"on",size:"small",step:1,className:"tournamentSlider",marks:!0,min:2,max:5})]}),Object(F.jsx)("div",{className:"m-2",children:Object(F.jsxs)(N.a,{className:"box2",sx:{width:420},children:[Object(F.jsx)(I.a,{className:"chance",children:"\u0160anca na mut\xe1ciu"}),Object(F.jsx)(G.a,{"aria-label":"\u0160anca na mut\xe1ciu",name:"mutationChance",onChange:this.props.handleSlider,disabled:!this.props.settingsEnabled,value:this.props.mutationChance,valueLabelFormat:this.valueText,valueLabelDisplay:"on",step:1,className:"mutationSlider",marks:!0,min:1,max:10})]})}),Object(F.jsxs)("div",{className:"m-2 sliders",children:[Object(F.jsxs)(N.a,{sx:{width:420},children:[Object(F.jsx)(C.a,{children:Object(F.jsx)(w.a,{control:Object(F.jsx)(E.a,{disabled:!this.props.settingsEnabled,checked:this.props.elitism,name:"elitism",onChange:this.props.handleSwitch}),label:"Elit\xe1rstvo"})}),this.props.elitism&&Object(F.jsx)(G.a,{className:"slider","aria-label":"Podiel elit\xe1rstva",name:"elitismRatio",disabled:!this.props.settingsEnabled,onChange:this.props.handleSlider,value:this.props.elitismRatio,getAriaValueText:this.valueText,valueLabelDisplay:"on",valueLabelFormat:this.valueText,step:1,marks:!0,min:5,max:25})]}),Object(F.jsx)(C.a,{children:Object(F.jsx)(w.a,{control:Object(F.jsx)(E.a,{disabled:!this.props.settingsEnabled,checked:this.props.continue,name:"continue",onChange:this.props.handleSwitch}),label:"Pokra\u010dova\u0165 po poslednej bunke"})}),Object(F.jsx)("br",{}),Object(F.jsxs)(C.a,{children:[Object(F.jsx)(I.a,{className:"chance",children:"Pauza medzi sn\xedmkami anim\xe1cie"}),Object(F.jsx)(G.a,{className:"slider mt-5","aria-label":"Pauza medzi sn\xedmkami anim\xe1cie",name:"animationDelay",disabled:!this.props.settingsEnabled,onChange:this.props.handleSlider,value:this.props.animationDelay,getAriaValueText:this.valueMs,valueLabelDisplay:"on",valueLabelFormat:this.valueMs,step:10,marks:!0,min:10,max:200})]})]}),Object(F.jsxs)("div",{className:"m-2",children:[Object(F.jsx)(x.a,{onClick:this.props.generatePositions,disabled:!this.props.settingsEnabled,className:"ml-5 button",variant:"outlined",children:"Vygenuruj poz\xedcie pokladov"}),Object(F.jsx)("br",{}),Object(F.jsxs)(x.a,{disabled:!this.props.settingsEnabled,className:"button-2",variant:"outlined",component:"label",children:["Nahraj s\xfabor so s\xfaradnicami",Object(F.jsx)("input",{onChange:function(e){return t.props.showFile(e)},type:"file",hidden:!0})]}),Object(F.jsx)("br",{}),Object(F.jsx)(x.a,{onClick:this.props.startSimulation,disabled:this.getSimulationDisabled(),className:"ml-5 button-3",variant:"outlined",children:"Za\u010da\u0165 nov\xfa simul\xe1ciu"}),this.props.finished&&Object(F.jsxs)(F.Fragment,{children:[!this.props.success&&Object(F.jsx)(x.a,{onClick:this.props.continueSimulation,disabled:this.props.animationRunning,className:"ml-5 button-3",variant:"outlined",children:"Pokra\u010duj simul\xe1ciu"}),Object(F.jsx)(x.a,{onClick:this.props.endSimulation,disabled:this.props.animationRunning,className:"ml-5 button-3",variant:"outlined",children:"Skon\u010di simul\xe1ciu"}),Object(F.jsx)(x.a,{onClick:this.props.startAnimation,disabled:this.props.animationRunning,className:"ml-5 button-3",variant:"outlined",children:"Vykresli anim\xe1ciu"}),Object(F.jsx)(x.a,{onClick:this.props.displayEnd,disabled:this.getEndDrawDisabled(),className:"ml-5 button-3",variant:"outlined",children:"Vykresli koniec"})]})]})]})}}]),n}(a.Component),R=(n(259),function(t){Object(v.a)(n,t);var e=Object(f.a)(n);function n(){return Object(b.a)(this,n),e.apply(this,arguments)}return Object(j.a)(n,[{key:"componentDidUpdate",value:function(t,e){t.finished!==this.props.finished&&this.props.finished&&this.props.drawStart()}},{key:"render",value:function(){var t,e,n;return console.log(this.props.successfulIndividual),Object(F.jsxs)(F.Fragment,{children:[this.props.grid.length?Object(F.jsx)("h2",{children:"Za\u010diato\u010dn\xfd stav"}):null,null===(t=this.props.grid)||void 0===t?void 0:t.map((function(t,e){return null===t||void 0===t?void 0:t.map((function(t,n){return 0===t?Object(F.jsx)("div",{className:"cell"},"".concat(e).concat(n)):1===t?Object(F.jsx)("div",{className:"cell",children:Object(F.jsx)("img",{src:"/genetic-algorithm/images/treasure.png",alt:"Poklad"})},"".concat(e).concat(n)):Object(F.jsx)("div",{className:"cell player",children:Object(F.jsx)("img",{src:"/genetic-algorithm/images/miner.png",alt:"H\u013eada\u010d"})},"".concat(e).concat(n))})).concat(Object(F.jsx)("div",{className:"separator"},e))})),Object(F.jsxs)("div",{className:"mt-2 final-grid ",children:[this.props.finished&&Object(F.jsx)("h2",{children:"Koncov\xfd stav"}),this.props.finished&&(null===(e=this.props.grid)||void 0===e?void 0:e.map((function(t,e){return null===t||void 0===t?void 0:t.map((function(t,n){return Object(F.jsx)("div",{className:"cell"},"".concat(e).concat(n))})).concat(Object(F.jsx)("div",{className:"separator"},e))}))),this.props.finished&&(null===(n=this.props.actualGrid)||void 0===n?void 0:n.map((function(t,e){return null===t||void 0===t?void 0:t.map((function(t,n){return 1===t?Object(F.jsx)("img",{className:"player img",style:{position:"absolute",left:50*n+"px",top:49*e+46+"px"},src:"/genetic-algorithm/images/treasure.png",alt:"Poklad"},"".concat(e).concat(n)):2===t?Object(F.jsx)("img",{className:"treasure img",style:{position:"absolute",left:50*n+"px",top:49*e+46+"px"},src:"/genetic-algorithm/images/miner.png",alt:"H\u013eada\u010d"},"".concat(e).concat(n)):null})).concat(Object(F.jsx)("div",{className:"separator"},e))})))]})]})}}]),n}(a.Component)),D=function(t){Object(v.a)(n,t);var e=Object(f.a)(n);function n(){var t;Object(b.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).getMoveString=function(t){switch(t){case 0:return"Hore";case 1:return"Dole";case 2:return"Doprava";case 3:return"Do\u013eava";default:throw new Error("Bad move")}},t}return Object(j.a)(n,[{key:"render",value:function(){var t,e,n,a,i,s,r,o,l,c,u,d,h,p=this;return Object(F.jsx)(F.Fragment,{children:this.props.finished&&Object(F.jsxs)(F.Fragment,{children:[(null===(t=this.props.successfulIndividual)||void 0===t||null===(e=t.results)||void 0===e||null===(n=e.stats)||void 0===n?void 0:n.success)?Object(F.jsx)("h2",{children:"Boli \xfaspe\u0161n\xe9 n\xe1jden\xe9 v\u0161etky poklady"}):Object(F.jsx)("h2",{children:"Neboli \xfaspe\u0161n\xe9 n\xe1jden\xe9 v\u0161etky poklady"}),Object(F.jsxs)("h4",{children:["Po\u010det krokov: ",null===(a=this.props.successfulIndividual)||void 0===a||null===(i=a.results)||void 0===i||null===(s=i.stats)||void 0===s?void 0:s.moveCount]}),Object(F.jsxs)("h4",{children:["N\xe1jden\xfdch pokladov: ",null===(r=this.props.successfulIndividual)||void 0===r||null===(o=r.results)||void 0===o||null===(l=o.stats)||void 0===l?void 0:l.treasuresFound]}),Object(F.jsx)("h4",{children:"Postupnos\u0165 krokov"}),Object(F.jsx)("div",{children:null===(c=this.props.successfulIndividual)||void 0===c||null===(u=c.results)||void 0===u||null===(d=u.stats)||void 0===d||null===(h=d.moves)||void 0===h?void 0:h.map((function(t,e){return Object(F.jsx)("p",{className:"move",children:"".concat(p.getMoveString(t),", ")},e)}))})]})})}}]),n}(a.Component),L=n(454),A=n(465),T=n(460),B=n(442),V=n(443),W=n(447),X=n(224),Z=n(225),K=n(113),H=n(110),J=n(228),U=function(t){Object(v.a)(n,t);var e=Object(f.a)(n);function n(t){var a;return Object(b.a)(this,n),(a=e.call(this,t)).handleChangeGrid=function(t){a.setState(Object(m.a)({},t.target.name,t.target.value),(function(){"gridSize"===t.target.name?a.setState({x:0,y:0},(function(){a.setState({grid:a.createGrid()})})):"count"===t.target.name?a.generatePositions():a.setState({grid:a.createGrid()})}))},a.handleSwitch=function(t){a.setState(Object(m.a)({},t.target.name,t.target.checked))},a.handleSlider=function(t){a.setState(Object(m.a)({},t.target.name,t.target.value))},a.generateRandomPosition=function(){return Math.floor(Math.random()*a.state.gridSize)},a.generatePositions=function(){for(var t=a.createGrid(),e=0;e<a.state.count;e++)for(;;){var n=a.generateRandomPosition(),i=a.generateRandomPosition();if(0===t[i][n]){t[i][n]=1;break}}a.setState({grid:t,finished:!1})},a.createGrid=function(){var t=a.state.gridSize,e=Array.from({length:t},(function(){return Array.from({length:t},(function(){return 0}))}));return e[a.state.y][a.state.x]=2,e},a.insertTreasures=function(t){for(var e=a.createGrid(),n=0;n<t.length;n++){var i=Object(p.a)(t[n],2),s=i[0];e[i[1]][s]=1}a.setState({grid:e})},a.showFile=function(){var t=Object(h.a)(d.a.mark((function t(e){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),(n=new FileReader).onload=function(){var t=Object(h.a)(d.a.mark((function t(e){var n,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.target.result,i=n.split("\n").map((function(t){return t.split(",").map((function(t){return parseInt(t)}))})),a.insertTreasures(i),a.setState({count:i.length});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n.readAsText(e.target.files[0]),e.target.value=null;case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a.setPopulation=function(){var t=Number(a.state.populationCount);isNaN(t)?a.setState({populationCount:20}):(t=t<20?20:t%2===1?t+1:t,a.setState({populationCount:t}))},a.handleChange=function(t){a.setState(Object(m.a)({},t.target.name,t.target.value))},a.setGenerations=function(){var t=a.state.generationCount;isNaN(t)?a.setState({generationCount:20}):(t=t<20?20:t,a.setState({generationCount:t}))},a.generateCell=function(){return Math.floor(256*Math.random())},a.chooseFromInterval=function(t){return Math.random()*t},a.findIndex=function(t,e){if(t<e[0])return 0;for(var n=0;n<a.state.populationCount;n++)if(t>=e[n]&&t<=e[n+1])return n;throw new Error("Number not found!")},a.createFirstPopulation=function(){for(var t=[],e=0;e<a.state.populationCount;e++){for(var n=[],i=0;i<64;i++)n.push(a.generateCell());t.push(n)}return t},a.mergeIndividuals=function(t,e){for(var n=[],a=Math.floor(64*Math.random()),i=0;i<a;i++)n.push(t[i]);for(var s=a;s<64;s++)n.push(e[s]);return n},a.replaceString=function(t,e,n){return t.substr(0,e)+n+t.substr(e+1)},a.mutateIndivual=function(t){var e=Math.floor(101*Math.random());if(a.state.mutationChance<e){var n=Math.floor(64*Math.random()),i=Math.floor(8*Math.random()),s=a.dec2bin(t[n]),r=1===parseInt(s[i])?0:1;s=a.replaceString(s,i,r),t[n]=a.bin2dec(s)}},a.pushBestInvidivuals=function(t,e,n,i){for(var s=[],r=0;r<a.state.populationCount;r++)s.push({fitness:t[r],individual:e[r]});s.sort((function(t,e){return e.fitness-t.fitness}));for(var o=0;o<a.state.populationCount-i;o++)n.push(s[o].individual)},a.getDesiredCount=function(){if(a.state.elitism){var t=a.state.populationCount-Math.floor(a.state.elitismRatio/100*a.state.populationCount);return t%2===1?t-1:t}return a.state.populationCount},a.runOneIndividual=function(t,e,n,i){var s=a.cloneIndividual(t),r=a.runSimulation(s),o=r.treasuresFound-.001*r.moveCount<=0?.05:r.treasuresFound-.001*r.moveCount;e.push(o),i+=o,n.push(i);var l={fitnessSum:i,fitness:o,stats:r,success:void 0};return r.success?(a.setState({sucessIndividual:r}),l.success=!0,l):(l.success=!1,l)},a.applyRoulette=function(t,e,n,i){var s=a.findIndex(a.chooseFromInterval(t),e),r=a.findIndex(a.chooseFromInterval(t),e);if(s!==r){var o=a.mergeIndividuals(n[s],n[r]),l=a.mergeIndividuals(n[s],n[r]);a.mutateIndivual(o),a.mutateIndivual(l),i.push(o,l)}},a.getRandomIndexes=function(){for(var t=[];t.length<a.state.tournamentCount;){var e=Math.floor(Math.random()*a.state.populationCount);t.includes(e)||t.push(e)}return t},a.findStrongest=function(t,e,n){var a=0,i=0;return t.forEach((function(t){e[t]>a&&(a=e[t],i=t)})),n[i]},a.applyTournament=function(t,e,n){var i=a.getRandomIndexes(),s=a.getRandomIndexes(),r=a.findStrongest(i,t,e),o=a.findStrongest(s,t,e),l=a.mergeIndividuals(r,o),c=a.mergeIndividuals(r,o);a.mutateIndivual(l),a.mutateIndivual(c),n.push(l,c)},a.continueSimulation=function(){a.startSimulation(void 0,a.state.generation)},a.endSimulation=function(){a.setState({settingsEnabled:!0,finished:!1})},a.startComputations=function(t,e){var n=e||a.createFirstPopulation(),i={results:{fitness:0,success:!1}},s=[];t:for(var r=0;r<a.state.generationCount;r++){for(var o=[],l=[],c=[],u=0,d=Number.MAX_SAFE_INTEGER,h=0,p=0;p<a.state.populationCount;p++){var m=a.runOneIndividual(n[p],l,c,u,i);if(u=m.fitnessSum,m.fitness>h&&(h=m.fitness),m.fitness<d&&(d=m.fitness),m.fitness>i.results.fitness&&(i={results:m}),m.success)break t}var b=a.getDesiredCount();for(s.push({name:r,averageFitness:(u/a.state.populationCount).toFixed(2),minFitness:d,maxFitness:h});o.length<b;)a.state.parentSelection===P?a.applyRoulette(u,c,n,o):a.applyTournament(l,n,o);a.state.elitism&&a.pushBestInvidivuals(l,n,o,b),n=o}i.results.success?a.setState({finished:!0,success:!0,loading:!1,statistics:s,successfulIndividual:i,generation:n}):a.setState({finished:!0,success:!1,loading:!1,statistics:s,successfulIndividual:i,generation:n})},a.startSimulation=function(t,e){a.setState({finished:!1,settingsEnabled:!1,loading:!0}),setTimeout((function(){return a.startComputations(t,e)}),100)},a.dec2bin=function(t){return(t>>>0).toString(2).padStart(8,"0")},a.bin2dec=function(t){return parseInt(t,2)},a.getInstruction=function(t){return a.dec2bin(t).substring(0,2)},a.getAdress=function(t){return a.dec2bin(t).substring(2,8)},a.getLast2Bits=function(t){return a.dec2bin(t).substring(6,8)},a.cloneIndividual=function(t){return t.map((function(t){return t}))},a.cloneGrid=function(t){return t.map((function(t){return t.map((function(t){return t}))}))},a.findPlayer=function(t){for(var e=0;e<a.state.gridSize;e++)for(var n=0;n<a.state.gridSize;n++)if(2===t[e][n])return{playerX:n,playerY:e};throw new Error("Player not found")},a.changeGrid=function(t,e,n,i,s,r){return!(i<0||i>=a.state.gridSize||n<0||n>=a.state.gridSize)&&(1===s[i][n]&&r.treasuresFound++,s[e][t]=0,s[i][n]=2,!0)},a.applyMove=function(t,e,n){var i,s=a.findPlayer(e),r=s.playerX,o=s.playerY;switch(n.moveCount++,t){case 0:i=a.changeGrid(r,o,r,o-1,e,n);break;case 1:i=a.changeGrid(r,o,r,o+1,e,n);break;case 2:i=a.changeGrid(r,o,r+1,o,e,n);break;case 3:i=a.changeGrid(r,o,r-1,o,e,n);break;default:throw new Error("Bad move")}return i},a.runSimulation=function(t){for(var e=a.cloneGrid(a.state.grid),n={treasuresFound:0,instructionCount:0,grid:e,moveCount:0,success:null,moves:[]},i=!0;i||a.state.continue;){i=!1;for(var s=0;s<t.length;s++){if(500===n.instructionCount)return Object(c.a)(Object(c.a)({},n),{},{success:!1});var r=parseInt(a.getInstruction(t[s]),2),o=parseInt(a.getAdress(t[s]),2);switch(r){case 0:t[o]=255===t[o]?0:t[o]+1,n.instructionCount++;break;case 1:t[o]=0===t[o]?255:t[o]-1,n.instructionCount++;break;case 2:s=o,n.instructionCount++;continue;case 3:var l=parseInt(a.getLast2Bits(t[o]),2);if(n.moves.push(l),n.instructionCount++,!a.applyMove(l,e,n))return Object(c.a)(Object(c.a)({},n),{},{success:!1,error:!0});if(n.treasuresFound===a.state.count)return Object(c.a)(Object(c.a)({},n),{},{success:!0});if(500===n.instructionCount)return Object(c.a)(Object(c.a)({},n),{},{success:!1});break;default:throw new Error("Chyba")}}}return Object(c.a)(Object(c.a)({},n),{},{success:!1})},a.timer=function(t){return new Promise((function(e){return setTimeout(e,t)}))},a.drawStart=function(){a.setState({actualGrid:a.state.grid})},a.startAnimation=Object(h.a)(d.a.mark((function t(){var e,n,i,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=a.cloneGrid(a.state.grid),n=a.state.successfulIndividual.results.stats.moves,i={moveCount:0},a.setState({animationRunning:!0}),s=0;case 5:if(!(s<n.length)){t.next=13;break}return a.applyMove(n[s],e,i),a.setState({actualGrid:e}),t.next=10,a.timer(a.state.animationDelay);case 10:s++,t.next=5;break;case 13:a.setState({animationRunning:!1});case 14:case"end":return t.stop()}}),t)}))),a.displayEnd=function(){a.setState({actualGrid:a.state.successfulIndividual.results.stats.grid})},a.state={gridSize:5,grid:[],actualGrid:[],x:0,y:0,count:1,populationCount:20,animationDelay:10,generationCount:20,continue:!0,elitism:!0,elitismRatio:10,tournamentCount:2,parentSelection:P,mutationChance:10,finished:!1,success:!1,settingsEnabled:!0,loading:!1,statistics:[],successfulIndividual:{}},a}return Object(j.a)(n,[{key:"componentDidUpdate",value:function(t,e){e.gridSize===this.state.gridSize&&e.populationCount===this.state.populationCount&&e.generationCount===this.state.generationCount&&e.elitism===this.state.elitism&&e.elitismRatio===this.state.elitismRatio&&e.tournamentCount===this.state.tournamentCount&&e.mutationChance===this.state.mutationChance&&e.x===this.state.x&&e.y===this.state.y||this.setState({finished:!1})}},{key:"render",value:function(){return Object(F.jsx)("div",{className:"mx-auto",children:Object(F.jsxs)(N.a,{className:"m-5",children:[Object(F.jsxs)(T.a,{className:"mx-auto",container:!0,spacing:2,children:[Object(F.jsx)(T.a,{item:!0,xs:4,className:"mx-auto",children:Object(F.jsx)(M,{handleChangeGrid:this.handleChangeGrid,generatePositions:this.generatePositions,gridSize:this.state.gridSize,handleChange:this.handleChange,handleSlider:this.handleSlider,handleSwitch:this.handleSwitch,x:this.state.x,y:this.state.y,count:this.state.count,startSimulation:this.startSimulation,showFile:this.showFile,setPopulation:this.setPopulation,populationCount:this.state.populationCount,continue:this.state.continue,generationCount:this.state.generationCount,setGenerations:this.setGenerations,elitism:this.state.elitism,parentSelection:this.state.parentSelection,elitismRatio:this.state.elitismRatio,grid:this.state.grid,mutationChance:this.state.mutationChance,finished:this.state.finished,continueSimulation:this.continueSimulation,endSimulation:this.endSimulation,success:this.state.success,settingsEnabled:this.state.settingsEnabled,startAnimation:this.startAnimation,animationRunning:this.state.animationRunning,displayEnd:this.displayEnd,actualGrid:this.state.actualGrid,successfulIndividual:this.state.successfulIndividual})}),Object(F.jsx)(T.a,{className:"mt-5",item:!0,xs:4,children:Object(F.jsx)(R,{grid:this.state.grid,finished:this.state.finished,successfulIndividual:this.state.successfulIndividual,drawStart:this.drawStart,actualGrid:this.state.actualGrid})}),Object(F.jsx)(T.a,{item:!0,xs:4,children:Object(F.jsx)(D,{finished:this.state.finished,success:this.state.success,successfulIndividual:this.state.successfulIndividual,statistics:this.state.statistics})})]}),this.state.finished&&Object(F.jsx)(B.a,{height:300,width:"100%",children:Object(F.jsxs)(V.a,{data:this.state.statistics,margin:{top:30,right:30,left:30,bottom:5},children:[Object(F.jsx)(W.a,{strokeDasharray:"5 5",stroke:"#808080"}),Object(F.jsx)(X.a,{allowDecimals:!1,tickCount:25,dataKey:"name",type:"number"}),Object(F.jsx)(Z.a,{tickCount:6,type:"number"}),Object(F.jsx)(K.a,{}),Object(F.jsx)(H.a,{}),Object(F.jsx)(J.a,{type:"monotoneX",dot:!1,name:"Priemern\xe1 fitness hodnota gener\xe1cie",dataKey:"averageFitness",stroke:"#8884d8"}),Object(F.jsx)(J.a,{type:"monotoneX",dot:!1,name:"Minim\xe1lna fitness hodnota gener\xe1cie",dataKey:"minFitness",stroke:"#ff0000"}),Object(F.jsx)(J.a,{type:"monotoneX",dot:!1,name:"Maxim\xe1lna fitness hodnota gener\xe1cie",dataKey:"maxFitness",stroke:"#0040ff"})]})}),Object(F.jsx)(L.a,{sx:{color:"#fff",zIndex:function(t){return 200}},open:this.state.loading,children:Object(F.jsx)(A.a,{color:"inherit"})})]})})}}]),n}(i.a.Component),Y=n(448),_=Object(o.a)({palette:{mode:"dark"}});r.a.render(Object(F.jsx)(i.a.StrictMode,{children:Object(F.jsxs)(l.a,{theme:_,children:[Object(F.jsx)(Y.a,{}),Object(F.jsx)(U,{})]})}),document.getElementById("root"))}},[[393,1,2]]]);
//# sourceMappingURL=main.bbe62938.chunk.js.map